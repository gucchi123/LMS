# LMS クイックスタートガイド

## 🎉 LMSが正常に起動しました！

アプリケーションは以下のURLでアクセスできます：
- **ローカルアクセス**: http://127.0.0.1:5000
- **ネットワークアクセス**: http://10.196.177.14:5000

## 📝 デフォルトアカウント

### 管理者アカウント
- **ユーザー名**: `admin`
- **パスワード**: `admin123`
- **権限**: すべての機能（動画管理、ユーザー統計閲覧）

### 一般ユーザーアカウント
- **ユーザー名**: `user1`
- **パスワード**: `user123`
- **権限**: 動画視聴のみ

## 🚀 使い方

### 1. ログイン
1. ブラウザで http://127.0.0.1:5000 を開く
2. アカウント情報を入力してログイン

### 2. 動画を視聴（ユーザー）
1. ダッシュボードで視聴したい動画をクリック
2. 動画が自動的に再生開始
3. **進捗は5秒ごとに自動保存**されます
4. 次回視聴時は**続きから再生**できます

### 3. 動画を管理（管理者）
1. 右上の「管理画面」ボタンをクリック
2. **アップロード**: 「新しい動画をアップロード」ボタン
3. **編集**: 動画一覧の鉛筆アイコン
4. **削除**: 動画一覧のゴミ箱アイコン
5. **視聴統計**: ユーザー一覧の「視聴統計」ボタン

## 📊 主な機能

### ✅ 実装済み機能
- [x] ユーザー認証（ログイン/ログアウト）
- [x] 動画アップロード（MP4, AVI, MOV, MKV, WebM対応）
- [x] 動画視聴（Video.jsプレイヤー）
- [x] 視聴進捗の自動保存
- [x] 前回の続きから再生
- [x] 動画の編集・削除
- [x] ユーザーごとの視聴統計
- [x] 進捗バーとステータス表示
- [x] レスポンシブデザイン（モバイル対応）

## 🎬 サンプル動画

フォルダ内の動画「Rakuten AI for Businessのご紹介」が自動的にデータベースに登録されています。

## 🔧 サーバーの操作

### サーバーを停止
ターミナルで `Ctrl + C` を押す

### サーバーを再起動
```bash
cd "C:\Users\makoto.mizuguchi\OneDrive - Rakuten Group, Inc\CursorFiles\50Development\LMS"
python app.py
```

### データベースをリセット
```bash
python init_db.py
```
**注意**: これにより全てのユーザーデータと進捗がリセットされます

## 📁 ファイル構造

```
50Development/LMS/
├── app.py                  # メインアプリケーション
├── init_db.py              # データベース初期化
├── requirements.txt        # 依存パッケージ
├── lms.db                  # SQLiteデータベース
├── videos/                 # アップロードされた動画
├── templates/              # HTMLテンプレート
│   ├── login.html
│   ├── dashboard.html
│   ├── watch.html
│   └── admin.html
└── README.md               # 詳細ドキュメント
```

## 🔐 セキュリティに関する注意

**本番環境で使用する場合は必ず以下を実施してください**:

1. **Secret Keyの変更**
   `app.py` の以下の行を変更:
   ```python
   app.secret_key = 'your-secret-key-change-this-in-production'
   ```
   強力なランダム文字列に変更してください。

2. **デフォルトパスワードの変更**
   管理者アカウントとユーザーアカウントのパスワードを変更

3. **Debug モードの無効化**
   `app.py` の最後の行を変更:
   ```python
   app.run(debug=False, host='0.0.0.0', port=5000)
   ```

4. **HTTPS の使用**
   本番環境では必ずHTTPSを使用してください

## 🆘 トラブルシューティング

### サーバーが起動しない
- Pythonがインストールされているか確認
- 必要なパッケージがインストールされているか確認: `pip install -r requirements.txt`
- ポート5000が既に使用されていないか確認

### 動画が再生されない
- ブラウザが動画形式をサポートしているか確認
- MP4形式（H.264コーデック）が最も互換性が高い
- ブラウザのコンソールでエラーを確認（F12キー）

### 進捗が保存されない
- ブラウザのJavaScriptが有効になっているか確認
- ブラウザのコンソールでエラーを確認
- データベースファイル `lms.db` の書き込み権限を確認

### アップロードが失敗する
- ファイルサイズが500MBを超えていないか確認
- ファイル形式が対応しているか確認（MP4, AVI, MOV, MKV, WebM）
- `videos/` フォルダの書き込み権限を確認

## 📞 サポート

問題が発生した場合や機能追加のリクエストがある場合は、開発チームまでご連絡ください。

---

**Have fun learning! 📚✨**
